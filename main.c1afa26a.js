parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"KIzB":[function(require,module,exports) {
"use strict";var e=document.querySelectorAll(".field-cell"),n=document.querySelector(".game-score"),r=document.querySelector(".message-start"),i=document.querySelector(".message-win"),l=document.querySelector(".message-lose"),c=document.querySelector(".start"),t=document.querySelector(".restart"),s=[],a=4,d=0;function o(){for(var n=0;n<a*a;n++)e[n].innerHTML="0",s.push(e[n])}function L(){r.classList.add("hidden"),c.classList.add("hidden"),t.classList.remove("hidden"),u(),u()}function f(){d=0,n.innerHTML="0",l.classList.contains("hidden")||l.classList.add("hidden"),i.classList.contains("hidden")||l.classList.add("hidden"),o(),u(),u()}function u(){var e=Math.floor(Math.random()*s.length);"0"===s[e].innerHTML?(s[e].innerHTML=Math.random()>.9?"4":"2",q(),w()):u()}function M(e){for(var n=0;n<16;n++)if(!(n%4)){var r=[+s[n].innerHTML,+s[n+1].innerHTML,+s[n+2].innerHTML,+s[n+3].innerHTML].filter(function(e){return e}),i=4-r.length,l=Array(i).fill(0),c="left"===e?r.concat(l):l.concat(r);s[n].innerHTML=c[0],s[n+1].innerHTML=c[1],s[n+2].innerHTML=c[2],s[n+3].innerHTML=c[3]}q()}function H(e){for(var n=0;n<4;n++){var r=[+s[n].innerHTML,+s[n+a].innerHTML,+s[n+2*a].innerHTML,+s[n+3*a].innerHTML].filter(function(e){return e}),i=4-r.length,l=Array(i).fill(0),c="up"===e?r.concat(l):l.concat(r);s[n].innerHTML=c[0],s[n+a].innerHTML=c[1],s[n+2*a].innerHTML=c[2],s[n+3*a].innerHTML=c[3]}q()}function T(){for(var e=0;e<15;e++)if(s[e].innerHTML===s[e+1].innerHTML){var r=+s[e].innerHTML+ +s[e+1].innerHTML;s[e].innerHTML=r,s[e+1].innerHTML="0",d+=r,n.innerHTML=d}g()}function v(){for(var e=0;e<12;e++)if(s[e].innerHTML===s[e+a].innerHTML){var r=+s[e].innerHTML+ +s[e+a].innerHTML;s[e].innerHTML=r,s[e+a].innerHTML=0,d+=r,n.innerHTML=d}g()}function h(e){var n=e.keyCode,r=s.map(function(e){return e.innerHTML});switch(n){case 37:m();break;case 38:b();break;case 39:k();break;case 40:y();break;default:throw new Error("Wrong keyCode")}s.every(function(e,n){return s[n].innerHTML===r[n]})||u()}function k(){M("right"),T(),M("right")}function m(){M("left"),T(),M("left")}function b(){H("up"),v(),H("up")}function y(){H("down"),v(),H("down")}function g(){for(var e=0;e<s.length;e++)"2048"===s[e].innerHTML&&(i.classList.remove("hidden"),document.removeEventListener("keydown",h))}function w(){for(var e=0;e<15;e++)if(s[e].innerHTML===s[e+1].innerHTML)return;for(var n=0;n<12;n++)if(s[n].innerHTML===s[n+a].innerHTML)return;for(var r=0,i=0;i<s.length;i++)"0"===s[i].innerHTML&&r++;r||(l.classList.remove("hidden"),document.removeEventListener("keydown",h))}function q(){for(var e=0;e<s.length;e++){var n=s[e];switch(n.innerHTML){case"0":n.classList="field-cell";break;case"2":n.classList="field-cell field-cell--2";break;case"4":n.classList="field-cell field-cell--4";break;case"8":n.classList="field-cell field-cell--8";break;case"16":n.classList="field-cell field-cell--16";break;case"32":n.classList="field-cell field-cell--32";break;case"64":n.classList="field-cell field-cell--64";break;case"128":n.classList="field-cell field-cell--128";break;case"256":n.classList="field-cell field-cell--256";break;case"512":n.classList="field-cell field-cell--512";break;case"1024":n.classList="field-cell field-cell--1024";break;case"2048":n.classList="field-cell field-cell--2048"}}}c.addEventListener("click",L),t.addEventListener("click",f),o(),document.addEventListener("keydown",h);
},{}]},{},["KIzB"], null)
//# sourceMappingURL=main.c1afa26a.js.map